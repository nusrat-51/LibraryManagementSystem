@{
    var currentPath = Context.Request.Path;   // <-- THIS IS CORRECT
}

<link rel="stylesheet" href="~/css/dashboard.css" />

<div class="layout">
    <aside class="sidebar">
        <div class="brand">
            <span class="brand-logo">📚</span>
            <span class="brand-name">LMS</span>
        </div>
        <nav class="menu">
            <a asp-controller="Student" asp-action="Dashboard" class="menu-item">Dashboard</a>
            <a asp-controller="Student" asp-action="MyIssues" class="menu-item">My Issued Books</a>
            <a asp-controller="Student" asp-action="ViewBooks" class="menu-item">View Books (read-only)</a>
            <a asp-controller="Account" asp-action="Logout" class="menu-item">Logout</a>
        </nav>

            <a href="/Student/Dashboard"
               class="menu-item @(currentPath.StartsWithSegments("/Student/Dashboard") ? "active" : "")">
                Dashboard
            </a>

            <a href="/Student/MyIssues"
               class="menu-item @(currentPath.StartsWithSegments("/Student/MyIssues") ? "active" : "")">
                My Issued Books
            </a>

            <a href="/Student/Books"
               class="menu-item @(currentPath.StartsWithSegments("/Student/Books") ? "active" : "")">
                View Books (read-only)
            </a>

            <a href="/Account/Logout" class="menu-item">Logout</a>
        </nav>
    </aside>

    <div class="main">
        @RenderBody()
    </div>
</div>
